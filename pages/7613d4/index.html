<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>手写代码 | 朽木学社</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.94e8daa7.css" as="style"><link rel="preload" href="/assets/js/app.fb1f9387.js" as="script"><link rel="preload" href="/assets/js/2.3389238a.js" as="script"><link rel="preload" href="/assets/js/246.d45378ad.js" as="script"><link rel="prefetch" href="/assets/js/10.3ee11414.js"><link rel="prefetch" href="/assets/js/100.6630a2d2.js"><link rel="prefetch" href="/assets/js/101.92d97350.js"><link rel="prefetch" href="/assets/js/102.633f7606.js"><link rel="prefetch" href="/assets/js/103.d088091d.js"><link rel="prefetch" href="/assets/js/104.84433564.js"><link rel="prefetch" href="/assets/js/105.3f83d506.js"><link rel="prefetch" href="/assets/js/106.3a28f927.js"><link rel="prefetch" href="/assets/js/107.1ff46145.js"><link rel="prefetch" href="/assets/js/108.884f3482.js"><link rel="prefetch" href="/assets/js/109.d584870e.js"><link rel="prefetch" href="/assets/js/11.a87d6a7c.js"><link rel="prefetch" href="/assets/js/110.ec1e4428.js"><link rel="prefetch" href="/assets/js/111.db024fb8.js"><link rel="prefetch" href="/assets/js/112.1c69b3b7.js"><link rel="prefetch" href="/assets/js/113.775a2bb8.js"><link rel="prefetch" href="/assets/js/114.131b41b0.js"><link rel="prefetch" href="/assets/js/115.efb8e0f2.js"><link rel="prefetch" href="/assets/js/116.baadc61e.js"><link rel="prefetch" href="/assets/js/117.5d19aad3.js"><link rel="prefetch" href="/assets/js/118.e8c4ee34.js"><link rel="prefetch" href="/assets/js/119.032c2543.js"><link rel="prefetch" href="/assets/js/12.dbd893bd.js"><link rel="prefetch" href="/assets/js/120.135db9df.js"><link rel="prefetch" href="/assets/js/121.731fa5d2.js"><link rel="prefetch" href="/assets/js/122.195cb4d8.js"><link rel="prefetch" href="/assets/js/123.17cb5b9f.js"><link rel="prefetch" href="/assets/js/124.82e7c5cd.js"><link rel="prefetch" href="/assets/js/125.ba318516.js"><link rel="prefetch" href="/assets/js/126.3d4464d4.js"><link rel="prefetch" href="/assets/js/127.1593964c.js"><link rel="prefetch" href="/assets/js/128.88bd4f53.js"><link rel="prefetch" href="/assets/js/129.4a9f740e.js"><link rel="prefetch" href="/assets/js/13.3ea75748.js"><link rel="prefetch" href="/assets/js/130.6e38c0f2.js"><link rel="prefetch" href="/assets/js/131.f3d91863.js"><link rel="prefetch" href="/assets/js/132.ef40494c.js"><link rel="prefetch" href="/assets/js/133.d4e86020.js"><link rel="prefetch" href="/assets/js/134.8a760ad1.js"><link rel="prefetch" href="/assets/js/135.809a2abb.js"><link rel="prefetch" href="/assets/js/136.6e7110fb.js"><link rel="prefetch" href="/assets/js/137.0c19aaf4.js"><link rel="prefetch" href="/assets/js/138.3176c5f2.js"><link rel="prefetch" href="/assets/js/139.b4a99568.js"><link rel="prefetch" href="/assets/js/14.8dbb2ccb.js"><link rel="prefetch" href="/assets/js/140.49c3265a.js"><link rel="prefetch" href="/assets/js/141.950622a6.js"><link rel="prefetch" href="/assets/js/142.8ff16601.js"><link rel="prefetch" href="/assets/js/143.bf039239.js"><link rel="prefetch" href="/assets/js/144.1acde388.js"><link rel="prefetch" href="/assets/js/145.39a99056.js"><link rel="prefetch" href="/assets/js/146.9d66fe31.js"><link rel="prefetch" href="/assets/js/147.4f0491e4.js"><link rel="prefetch" href="/assets/js/148.bab68b83.js"><link rel="prefetch" href="/assets/js/149.ed205a73.js"><link rel="prefetch" href="/assets/js/15.8105946d.js"><link rel="prefetch" href="/assets/js/150.c7c8beca.js"><link rel="prefetch" href="/assets/js/151.78553d0a.js"><link rel="prefetch" href="/assets/js/152.439d9c6c.js"><link rel="prefetch" href="/assets/js/153.89cabcc3.js"><link rel="prefetch" href="/assets/js/154.07c3e3ac.js"><link rel="prefetch" href="/assets/js/155.ef8c975f.js"><link rel="prefetch" href="/assets/js/156.d72c2f7b.js"><link rel="prefetch" href="/assets/js/157.7c08f160.js"><link rel="prefetch" href="/assets/js/158.cd620f16.js"><link rel="prefetch" href="/assets/js/159.be60d72c.js"><link rel="prefetch" href="/assets/js/16.b9c4c5da.js"><link rel="prefetch" href="/assets/js/160.19c2641c.js"><link rel="prefetch" href="/assets/js/161.42383c22.js"><link rel="prefetch" href="/assets/js/162.cea95cd7.js"><link rel="prefetch" href="/assets/js/163.61cf2de0.js"><link rel="prefetch" href="/assets/js/164.40ecb02d.js"><link rel="prefetch" href="/assets/js/165.a78fdc8c.js"><link rel="prefetch" href="/assets/js/166.8ca1441b.js"><link rel="prefetch" href="/assets/js/167.c1856c83.js"><link rel="prefetch" href="/assets/js/168.b384731c.js"><link rel="prefetch" href="/assets/js/169.5b402ac3.js"><link rel="prefetch" href="/assets/js/17.fd32166f.js"><link rel="prefetch" href="/assets/js/170.cec307a1.js"><link rel="prefetch" href="/assets/js/171.1a82073a.js"><link rel="prefetch" href="/assets/js/172.c9c4ecc0.js"><link rel="prefetch" href="/assets/js/173.c5c9a96c.js"><link rel="prefetch" href="/assets/js/174.fd781876.js"><link rel="prefetch" href="/assets/js/175.dcd56fa3.js"><link rel="prefetch" href="/assets/js/176.88e0ebf6.js"><link rel="prefetch" href="/assets/js/177.70e1f12d.js"><link rel="prefetch" href="/assets/js/178.b857c0b7.js"><link rel="prefetch" href="/assets/js/179.a3556cc4.js"><link rel="prefetch" href="/assets/js/18.d866561c.js"><link rel="prefetch" href="/assets/js/180.b08eece6.js"><link rel="prefetch" href="/assets/js/181.2e10c3d9.js"><link rel="prefetch" href="/assets/js/182.627ec344.js"><link rel="prefetch" href="/assets/js/183.bf3a8f90.js"><link rel="prefetch" href="/assets/js/184.1d730de4.js"><link rel="prefetch" href="/assets/js/185.05719040.js"><link rel="prefetch" href="/assets/js/186.c432acba.js"><link rel="prefetch" href="/assets/js/187.1ef33293.js"><link rel="prefetch" href="/assets/js/188.d81a6541.js"><link rel="prefetch" href="/assets/js/189.481caf9a.js"><link rel="prefetch" href="/assets/js/19.ab11d590.js"><link rel="prefetch" href="/assets/js/190.04cdcfc9.js"><link rel="prefetch" href="/assets/js/191.4f1b2a09.js"><link rel="prefetch" href="/assets/js/192.85731c0e.js"><link rel="prefetch" href="/assets/js/193.9ed53228.js"><link rel="prefetch" href="/assets/js/194.5f918db0.js"><link rel="prefetch" href="/assets/js/195.6f186d54.js"><link rel="prefetch" href="/assets/js/196.8acfa8c8.js"><link rel="prefetch" href="/assets/js/197.47f61a02.js"><link rel="prefetch" href="/assets/js/198.082c0a2a.js"><link rel="prefetch" href="/assets/js/199.ffe925cb.js"><link rel="prefetch" href="/assets/js/20.16309d91.js"><link rel="prefetch" href="/assets/js/200.1056ecd7.js"><link rel="prefetch" href="/assets/js/201.44a08d16.js"><link rel="prefetch" href="/assets/js/202.ac0211eb.js"><link rel="prefetch" href="/assets/js/203.75e3e0e3.js"><link rel="prefetch" href="/assets/js/204.791e6a2d.js"><link rel="prefetch" href="/assets/js/205.0f575e08.js"><link rel="prefetch" href="/assets/js/206.19b2897f.js"><link rel="prefetch" href="/assets/js/207.4185b98c.js"><link rel="prefetch" href="/assets/js/208.d90dd3c7.js"><link rel="prefetch" href="/assets/js/209.9ed9f581.js"><link rel="prefetch" href="/assets/js/21.10ff5880.js"><link rel="prefetch" href="/assets/js/210.ccdb4208.js"><link rel="prefetch" href="/assets/js/211.1dbba26a.js"><link rel="prefetch" href="/assets/js/212.a2314180.js"><link rel="prefetch" href="/assets/js/213.42a97dd6.js"><link rel="prefetch" href="/assets/js/214.e8b86fe5.js"><link rel="prefetch" href="/assets/js/215.82122398.js"><link rel="prefetch" href="/assets/js/216.adfc1a6b.js"><link rel="prefetch" href="/assets/js/217.c06c52c8.js"><link rel="prefetch" href="/assets/js/218.e91c9627.js"><link rel="prefetch" href="/assets/js/219.9d07a542.js"><link rel="prefetch" href="/assets/js/22.2e559a67.js"><link rel="prefetch" href="/assets/js/220.9216e09c.js"><link rel="prefetch" href="/assets/js/221.0776c49f.js"><link rel="prefetch" href="/assets/js/222.7e09d42f.js"><link rel="prefetch" href="/assets/js/223.5c211436.js"><link rel="prefetch" href="/assets/js/224.72e3a928.js"><link rel="prefetch" href="/assets/js/225.584b3edc.js"><link rel="prefetch" href="/assets/js/226.244c295b.js"><link rel="prefetch" href="/assets/js/227.22150789.js"><link rel="prefetch" href="/assets/js/228.9943f3a9.js"><link rel="prefetch" href="/assets/js/229.a3e07ea5.js"><link rel="prefetch" href="/assets/js/23.021d79b1.js"><link rel="prefetch" href="/assets/js/230.43c1bf29.js"><link rel="prefetch" href="/assets/js/231.edebe07d.js"><link rel="prefetch" href="/assets/js/232.c1f37a5c.js"><link rel="prefetch" href="/assets/js/233.8dec1f25.js"><link rel="prefetch" href="/assets/js/234.f6752cfb.js"><link rel="prefetch" href="/assets/js/235.4fc8dae6.js"><link rel="prefetch" href="/assets/js/236.4b099e51.js"><link rel="prefetch" href="/assets/js/237.3aafeb34.js"><link rel="prefetch" href="/assets/js/238.027109de.js"><link rel="prefetch" href="/assets/js/239.b3a3bd51.js"><link rel="prefetch" href="/assets/js/24.cfba775a.js"><link rel="prefetch" href="/assets/js/240.9bf2989f.js"><link rel="prefetch" href="/assets/js/241.f0be206e.js"><link rel="prefetch" href="/assets/js/242.dfd56d96.js"><link rel="prefetch" href="/assets/js/243.b336ad24.js"><link rel="prefetch" href="/assets/js/244.df53a30a.js"><link rel="prefetch" href="/assets/js/245.8198e377.js"><link rel="prefetch" href="/assets/js/247.d241085a.js"><link rel="prefetch" href="/assets/js/248.fb472105.js"><link rel="prefetch" href="/assets/js/249.78c7b41a.js"><link rel="prefetch" href="/assets/js/25.5a6e2d92.js"><link rel="prefetch" href="/assets/js/250.9780220b.js"><link rel="prefetch" href="/assets/js/251.262bfcd0.js"><link rel="prefetch" href="/assets/js/252.f7491bef.js"><link rel="prefetch" href="/assets/js/253.3eb152fd.js"><link rel="prefetch" href="/assets/js/254.27cbd837.js"><link rel="prefetch" href="/assets/js/255.27b08098.js"><link rel="prefetch" href="/assets/js/256.4d10a55a.js"><link rel="prefetch" href="/assets/js/257.eea341a6.js"><link rel="prefetch" href="/assets/js/26.c5dba1c9.js"><link rel="prefetch" href="/assets/js/27.ae8c09ff.js"><link rel="prefetch" href="/assets/js/28.4a1aaa82.js"><link rel="prefetch" href="/assets/js/29.3b9d72ef.js"><link rel="prefetch" href="/assets/js/3.8a30aff6.js"><link rel="prefetch" href="/assets/js/30.097f525a.js"><link rel="prefetch" href="/assets/js/31.f3d13f1f.js"><link rel="prefetch" href="/assets/js/32.828d2c8e.js"><link rel="prefetch" href="/assets/js/33.c5bf98f7.js"><link rel="prefetch" href="/assets/js/34.b7bf363b.js"><link rel="prefetch" href="/assets/js/35.fa4016d1.js"><link rel="prefetch" href="/assets/js/36.ad21133d.js"><link rel="prefetch" href="/assets/js/37.fce8f265.js"><link rel="prefetch" href="/assets/js/38.36c5b7bc.js"><link rel="prefetch" href="/assets/js/39.391d419e.js"><link rel="prefetch" href="/assets/js/4.47bd1fd8.js"><link rel="prefetch" href="/assets/js/40.c855b68c.js"><link rel="prefetch" href="/assets/js/41.24e6d580.js"><link rel="prefetch" href="/assets/js/42.38a75b22.js"><link rel="prefetch" href="/assets/js/43.d607599a.js"><link rel="prefetch" href="/assets/js/44.6a243358.js"><link rel="prefetch" href="/assets/js/45.d50fa580.js"><link rel="prefetch" href="/assets/js/46.55226aab.js"><link rel="prefetch" href="/assets/js/47.43518cd2.js"><link rel="prefetch" href="/assets/js/48.e917f093.js"><link rel="prefetch" href="/assets/js/49.b0b65e59.js"><link rel="prefetch" href="/assets/js/5.34f64f0a.js"><link rel="prefetch" href="/assets/js/50.7be22d09.js"><link rel="prefetch" href="/assets/js/51.fa5d5b5b.js"><link rel="prefetch" href="/assets/js/52.e3a15294.js"><link rel="prefetch" href="/assets/js/53.368fad62.js"><link rel="prefetch" href="/assets/js/54.d2f568a9.js"><link rel="prefetch" href="/assets/js/55.0905432f.js"><link rel="prefetch" href="/assets/js/56.ef9859b2.js"><link rel="prefetch" href="/assets/js/57.900b34d1.js"><link rel="prefetch" href="/assets/js/58.4d11f4f9.js"><link rel="prefetch" href="/assets/js/59.7d5178dc.js"><link rel="prefetch" href="/assets/js/6.8a1434f6.js"><link rel="prefetch" href="/assets/js/60.429a3219.js"><link rel="prefetch" href="/assets/js/61.b00dce9f.js"><link rel="prefetch" href="/assets/js/62.3ae1da38.js"><link rel="prefetch" href="/assets/js/63.168d8505.js"><link rel="prefetch" href="/assets/js/64.3e379ec5.js"><link rel="prefetch" href="/assets/js/65.e38569ce.js"><link rel="prefetch" href="/assets/js/66.f8682bb7.js"><link rel="prefetch" href="/assets/js/67.1f28867a.js"><link rel="prefetch" href="/assets/js/68.f8d2acf5.js"><link rel="prefetch" href="/assets/js/69.4a82fe7f.js"><link rel="prefetch" href="/assets/js/7.0bfc8698.js"><link rel="prefetch" href="/assets/js/70.414d4d7e.js"><link rel="prefetch" href="/assets/js/71.1a2c8782.js"><link rel="prefetch" href="/assets/js/72.392a2c09.js"><link rel="prefetch" href="/assets/js/73.c5c2acfe.js"><link rel="prefetch" href="/assets/js/74.6a115012.js"><link rel="prefetch" href="/assets/js/75.3e8ba22b.js"><link rel="prefetch" href="/assets/js/76.663925fa.js"><link rel="prefetch" href="/assets/js/77.a7147fb4.js"><link rel="prefetch" href="/assets/js/78.1fda8db0.js"><link rel="prefetch" href="/assets/js/79.91895131.js"><link rel="prefetch" href="/assets/js/8.1d7951b0.js"><link rel="prefetch" href="/assets/js/80.1b83d443.js"><link rel="prefetch" href="/assets/js/81.f5a74850.js"><link rel="prefetch" href="/assets/js/82.c94fe5f7.js"><link rel="prefetch" href="/assets/js/83.8af1e30e.js"><link rel="prefetch" href="/assets/js/84.a65aeb29.js"><link rel="prefetch" href="/assets/js/85.7272b53b.js"><link rel="prefetch" href="/assets/js/86.497f3d06.js"><link rel="prefetch" href="/assets/js/87.9cb14c49.js"><link rel="prefetch" href="/assets/js/88.2a8c899b.js"><link rel="prefetch" href="/assets/js/89.07d5218e.js"><link rel="prefetch" href="/assets/js/9.7e52078a.js"><link rel="prefetch" href="/assets/js/90.95f0030c.js"><link rel="prefetch" href="/assets/js/91.01710300.js"><link rel="prefetch" href="/assets/js/92.8304a034.js"><link rel="prefetch" href="/assets/js/93.6cc65bd2.js"><link rel="prefetch" href="/assets/js/94.e348811c.js"><link rel="prefetch" href="/assets/js/95.b3e48f90.js"><link rel="prefetch" href="/assets/js/96.4593862b.js"><link rel="prefetch" href="/assets/js/97.b9f5209f.js"><link rel="prefetch" href="/assets/js/98.004e088e.js"><link rel="prefetch" href="/assets/js/99.274b6802.js">
    <link rel="stylesheet" href="/assets/css/0.styles.94e8daa7.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/vlogo.png" alt="朽木学社" class="logo"> <span class="site-name can-hide">朽木学社</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏠 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔥 前端系列教程" class="dropdown-title"><a href="/frontend/" class="link-title">🔥 前端系列教程</a> <span class="title" style="display:none;">🔥 前端系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c8f128/" class="nav-link">📗 《CSS 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">📗 《HTMl 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/0796ba76b4b55368/" class="nav-link">📗 《JavaScript教程》</a></li><li class="dropdown-item"><!----> <a href="/es6/f344d070a1031ef7/" class="nav-link">📗 《ES6 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/e05dce83e5129785/" class="nav-link">📗 《TypeScript 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/5df969/" class="nav-link">📗 《React 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/114158caa9e96df0/" class="nav-link">📗 《Vue 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/e2a169/" class="nav-link">📗 《Webpack 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/15ee91/" class="nav-link">📗 《设计模式 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/ed537f/" class="nav-link">📗 《算法与数据结构 教程》</a></li></ul></div></div><div class="nav-item"><a href="/pages/4a8976/" class="nav-link">📚 前端面试题攻略</a></div><div class="nav-item"><a href="/pages/4b9d5c/" class="nav-link">📖 文章收录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔨 实用工具" class="dropdown-title"><!----> <span class="title" style="display:;">🔨 实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/8292d8/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/61f2f95fd7da14fd/" class="nav-link">常用软件</a></li><li class="dropdown-item"><!----> <a href="/pages/03e105/" class="nav-link">写文章技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/9ee271/" class="nav-link">Mac使用技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1c7cc5/" class="nav-link">实用轮子</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">实用网站</a></li><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">杂货铺</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">👤 关于</a></div> <a href="https://github.com/xiumubai/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://xiumubai.oss-cn-beijing.aliyuncs.com/me/weixin.png"> <div class="blogger-info"><h3>Xiumubai</h3> <span>朽木不雕难成才，知耻后勇凌云志</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏠 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔥 前端系列教程" class="dropdown-title"><a href="/frontend/" class="link-title">🔥 前端系列教程</a> <span class="title" style="display:none;">🔥 前端系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c8f128/" class="nav-link">📗 《CSS 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">📗 《HTMl 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/0796ba76b4b55368/" class="nav-link">📗 《JavaScript教程》</a></li><li class="dropdown-item"><!----> <a href="/es6/f344d070a1031ef7/" class="nav-link">📗 《ES6 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/e05dce83e5129785/" class="nav-link">📗 《TypeScript 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/5df969/" class="nav-link">📗 《React 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/114158caa9e96df0/" class="nav-link">📗 《Vue 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/e2a169/" class="nav-link">📗 《Webpack 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/15ee91/" class="nav-link">📗 《设计模式 教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/ed537f/" class="nav-link">📗 《算法与数据结构 教程》</a></li></ul></div></div><div class="nav-item"><a href="/pages/4a8976/" class="nav-link">📚 前端面试题攻略</a></div><div class="nav-item"><a href="/pages/4b9d5c/" class="nav-link">📖 文章收录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔨 实用工具" class="dropdown-title"><!----> <span class="title" style="display:;">🔨 实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/8292d8/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/61f2f95fd7da14fd/" class="nav-link">常用软件</a></li><li class="dropdown-item"><!----> <a href="/pages/03e105/" class="nav-link">写文章技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/9ee271/" class="nav-link">Mac使用技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1c7cc5/" class="nav-link">实用轮子</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">实用网站</a></li><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">杂货铺</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">👤 关于</a></div> <a href="https://github.com/xiumubai/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/4b9d5c/" class="sidebar-link">作用域</a></li><li><a href="/pages/d46c69/" class="sidebar-link">原型&amp;原型链</a></li><li><a href="/pages/4850bb/" class="sidebar-link">继承</a></li><li><a href="/pages/6effbd/" class="sidebar-link">call&amp;apply&amp;bind</a></li><li><a href="/pages/64144b/" class="sidebar-link">this</a></li><li><a href="/pages/61d6ff/" class="sidebar-link">闭包</a></li><li><a href="/pages/c66889/" class="sidebar-link">new的执行过程</a></li><li><a href="/pages/15ad84/" class="sidebar-link">执行上下文</a></li><li><a href="/pages/685711/" class="sidebar-link">Map&amp;Set</a></li><li><a href="/pages/c16e6e/" class="sidebar-link">防抖节流</a></li><li><a href="/pages/1cde69/" class="sidebar-link">高阶函数</a></li><li><a href="/pages/4d8b02/" class="sidebar-link">大数组循环优化</a></li><li><a href="/pages/f5a264/" class="sidebar-link">lerna初体验</a></li><li><a href="/pages/83f913/" class="sidebar-link">eslint配置</a></li><li><a href="/pages/2e7b54/" class="sidebar-link">性能优化</a></li><li><a href="/pages/ca909e/" class="sidebar-link">执行结果</a></li><li><a href="/pages/7613d4/" aria-current="page" class="active sidebar-link">手写代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_1-数组乱序" class="sidebar-link">1. 数组乱序</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_2-数组扁平化" class="sidebar-link">2.数组扁平化</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_3-统计一个字符串中相同字符出现的个数" class="sidebar-link">3.统计一个字符串中相同字符出现的个数</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_4-add-1-2-3-4-累加" class="sidebar-link">4.add(1)(2)(3)(4)累加</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_5-对象拷贝" class="sidebar-link">5.对象拷贝</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_6-事件派发" class="sidebar-link">6.事件派发</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_7-vue响应式原理实现" class="sidebar-link">7.vue响应式原理实现</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_8-new运算符执行原理" class="sidebar-link">8.new运算符执行原理</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_9-bind、apply、call实现" class="sidebar-link">9.bind、apply、call实现</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_10-树结构、扁平化数组相互转换" class="sidebar-link">10.树结构、扁平化数组相互转换</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_11-防抖节流" class="sidebar-link">11.防抖节流</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_12-判断是一个数组的六种方法" class="sidebar-link">12.判断是一个数组的六种方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_13-map实现" class="sidebar-link">13.map实现</a></li><li class="sidebar-sub-header level2"><a href="/pages/7613d4/#_14-promise-all-和promise-race-实现" class="sidebar-link">14.promise.all()和promise.race()实现</a></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%96%87%E7%AB%A0%E6%94%B6%E5%BD%95" title="分类" data-v-06225672>文章收录</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xiumubai" target="_blank" title="作者" class="beLink" data-v-06225672>xiumubai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-03-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">手写代码<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="_1-数组乱序"><a href="#_1-数组乱序" class="header-anchor">#</a> 1. 数组乱序</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 示例</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>答案：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sortArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 根据数组的长度产生一个随机的下标</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 根据随机的下标把对应的数组项push到新的数组</span>
        newArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 删除已经出现过的元素</span>
        arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newArray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newArr <span class="token operator">=</span> <span class="token function">sortArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-数组扁平化"><a href="#_2-数组扁平化" class="header-anchor">#</a> 2.数组扁平化</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">flatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// [1,2,3,4,5,6]</span>
</code></pre></div><h2 id="_3-统计一个字符串中相同字符出现的个数"><a href="#_3-统计一个字符串中相同字符出现的个数" class="header-anchor">#</a> 3.统计一个字符串中相同字符出现的个数</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;abbcccdffaa&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token string">&quot;a-3-b-2-c-3-d-1-f-2&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>答案</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ABCABC你好你好ののA'</span><span class="token punctuation">;</span>
<span class="token comment">//用来存储不重复的字符串</span>
<span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token comment">//字符串去重  将不重复的字符串存储到一个新的字符串内</span>

<span class="token comment">//将每一个字符单独提出来</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//判断有没有在newStr中出现过 没有出现过 放到newStr内</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>newStr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    newStr <span class="token operator">+=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//  console.log(newStr);//ABC你好の</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> newStr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//判断元素是否相等 如果相等 则次数加1</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>newStr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>str<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-add-1-2-3-4-累加"><a href="#_4-add-1-2-3-4-累加" class="header-anchor">#</a> 4.add(1)(2)(3)(4)累加</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//=&gt; 1; </span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//=&gt; 3;</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//=&gt; 6; </span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">//=&gt; 10; </span>
以此类推。。。。。
</code></pre></div><p>答案</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-对象拷贝"><a href="#_5-对象拷贝" class="header-anchor">#</a> 5.对象拷贝</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> targetObj <span class="token operator">=</span> source<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 判断复制的目标是数组还是对象</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> keys <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 遍历目标</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果值是对象，就递归一下</span>
        targetObj<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        targetObj<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果不是，就直接赋值</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> targetObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_6-事件派发"><a href="#_6-事件派发" class="header-anchor">#</a> 6.事件派发</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">BindEvent</span> <span class="token punctuation">{</span>
  <span class="token comment">// 绑定事件</span>
	<span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token punctuation">}</span>
  <span class="token comment">// 通过once绑定的事件只能emit一次</span>
  <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
  <span class="token comment">// 解绑事件</span>
 	<span class="token function">off</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token punctuation">}</span>
  <span class="token comment">// 触发所有绑定的事件</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">eventName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> bindClick <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BindEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn1'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn2'</span><span class="token punctuation">)</span>

BindEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span>
BindEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn2<span class="token punctuation">)</span>
BindEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token comment">// fn1 fn2</span>
BindEvent<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn2<span class="token punctuation">)</span>
BindEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token comment">// fn1 fn2</span>
BindEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token comment">// fn1   // fn2是通过once绑定的，只能触发一次</span>
BindEvent<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>fn1<span class="token punctuation">)</span>
BindEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token comment">// fn2</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vm._events = {event1: [cb1], event2: [cb2]}</span>
<span class="token keyword">function</span> <span class="token function">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 添加事件</span>
<span class="token comment">/**
  vm.$on('event1', cb1);
  vm.$on('event1', cb2);
  vm._events={event1: [cb1, cb2]}
 */</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> event<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>event<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>_events<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>_events<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// $emit:触发事件</span>

<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$emit</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cbs <span class="token operator">=</span> vm<span class="token punctuation">.</span>_events<span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cbs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// const args = Array.prototype.slice.call(arguments);</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cbs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cbs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// $off:移除事件</span>
<span class="token comment">// vm.$off('event1', cb1);</span>
<span class="token comment">// 这时cb1就被移除了，vm._events={event1: [cb2]}</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$off</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vm<span class="token punctuation">.</span>_events <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> event<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span>event<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> cbs <span class="token operator">=</span> vm<span class="token punctuation">.</span>_events<span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cbs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vm<span class="token punctuation">.</span>_events<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> cb<span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> cbs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cb <span class="token operator">=</span> cbs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cb <span class="token operator">===</span> fn <span class="token operator">||</span> cb<span class="token punctuation">.</span>fn <span class="token operator">===</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cbs<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// $once:触发一次事件,然后移除这个事件</span>
<span class="token comment">//vm.$on('event2', cb4);</span>
<span class="token comment">//vm.$once('event2', cb5);</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$once</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> on<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fn<span class="token punctuation">.</span><span class="token function">appy</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  on<span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
  <span class="token comment">// 执行一次on事件，然后</span>
  vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> on<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> vm<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p><a href="https://juejin.cn/post/6844904062417109005" target="_blank" rel="noopener noreferrer">vue源码解析事件派发（$on、$emit、$once、$off）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_7-vue响应式原理实现"><a href="#_7-vue响应式原理实现" class="header-anchor">#</a> 7.vue响应式原理实现</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">ob</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> ‘test’ <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>‘watch<span class="token operator">-</span>count’<span class="token punctuation">,</span> data<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>‘watch<span class="token operator">-</span>foo’<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

data<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>‘showcount’<span class="token punctuation">,</span> data<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> data<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
data<span class="token punctuation">.</span>foo <span class="token operator">=</span> ‘test2’<span class="token punctuation">;</span>

<span class="token comment">// 执行结果</span>
watch<span class="token operator">-</span>count <span class="token number">0</span>
watch<span class="token operator">-</span>foo test
watch<span class="token operator">-</span>count <span class="token number">1</span>
showcount <span class="token number">1</span>
watch<span class="token operator">-</span>count undifined
watch<span class="token operator">-</span>foo test2

<span class="token comment">// 解释：</span>
watch里面的函数会第一次默认执行
每次修改或者删除data属性的时候会执行watch

<span class="token comment">// 题目要求：实现对data的响应式，和改变data的时候触发watch执行</span>


<span class="token comment">// 对属性的设置，获取，删除</span>
<span class="token keyword">function</span> <span class="token function">ob</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> observerd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> reciver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">let</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> reciver<span class="token punctuation">)</span><span class="token punctuation">;</span>
         dep<span class="token punctuation">.</span><span class="token function">addDep</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> reciver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> reciver<span class="token punctuation">)</span><span class="token punctuation">;</span>
         dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> observerd<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">spuer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 添加依赖</span>
    <span class="token function">addDep</span><span class="token punctuation">(</span><span class="token parameter">dep</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deps<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>deps<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 更新通知</span>
    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dep</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            dep<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-new运算符执行原理"><a href="#_8-new运算符执行原理" class="header-anchor">#</a> 8.new运算符执行原理</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//创建的新对象</span>
    <span class="token comment">//第一个参数是构造函数</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>constructor<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//执行[[原型]]连接;target 是 constructor 的实例</span>
    target<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token comment">//执行构造函数，将属性或方法添加到创建的空对象上</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果构造函数执行的结构返回的是一个对象，那么返回这个对象</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//如果构造函数返回的不是一个对象，返回创建的新对象</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_9-bind、apply、call实现"><a href="#_9-bind、apply、call实现" class="header-anchor">#</a> 9.bind、apply、call实现</h2> <p><a href="/10.文章收录/04.call&amp;apply&amp;bind.html">call&amp;apply&amp;bind</a></p> <h2 id="_10-树结构、扁平化数组相互转换"><a href="#_10-树结构、扁平化数组相互转换" class="header-anchor">#</a> 10.树结构、扁平化数组相互转换</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门1'</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门2'</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门3'</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门4'</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门5'</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;部门1&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;部门2&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;部门3&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;部门4&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;部门5&quot;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">pid</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
              <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://juejin.cn/post/6983904373508145189" target="_blank" rel="noopener noreferrer">面试了十几个高级前端，竟然连（扁平数据结构转Tree）都写不出来
<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>
</code></pre></div><h2 id="_11-防抖节流"><a href="#_11-防抖节流" class="header-anchor">#</a> 11.防抖节流</h2> <p><a href="/10.文章收录/11.防抖节流.html">防抖节流</a></p> <h2 id="_12-判断是一个数组的六种方法"><a href="#_12-判断是一个数组的六种方法" class="header-anchor">#</a> 12.判断是一个数组的六种方法</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">1.</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token boolean">true</span>
<span class="token number">2.</span> arr<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token boolean">true</span>
<span class="token number">3.</span> arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token boolean">true</span>
<span class="token number">4.</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Array'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token boolean">true</span>
<span class="token number">5.</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token boolean">true</span>
<span class="token number">6.</span> arr<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Array&quot;</span><span class="token punctuation">)</span> ！<span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre></div><h2 id="_13-map实现"><a href="#_13-map实现" class="header-anchor">#</a> 13.map实现</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">map</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> newArrar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://juejin.cn/post/6844903797496479758" target="_blank" rel="noopener noreferrer">js数组中filter、map、reduce、find等方法实现的原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_14-promise-all-和promise-race-实现"><a href="#_14-promise-all-和promise-race-实现" class="header-anchor">#</a> 14.promise.all()和promise.race()实现</h2> <p>all()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//返回一个promise</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length  <span class="token comment">//传入的promise的个数</span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment">//进入fullfilled的promise个数</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">//创建一个等长的数组,放置结果</span>
    <span class="token comment">// 当传递是一个空数组，返回一个为fulfilled状态的promise</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise<span class="token punctuation">.</span>resolve</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token comment">//将每次结果保存在result数组中</span>
        count <span class="token operator">++</span>  <span class="token comment">//个数加1</span>
        <span class="token comment">//是否所有的promise都进入fullfilled状态</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">===</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token function">res</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment">//返回结果</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">rej</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment">//如果有错误则直接结束循环，并返回错误</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>race()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">race</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">res</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span>  <span class="token comment">//某一promise完成后直接返回其值</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">rej</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment">//如果有错误则直接结束循环，并返回错误</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xiumubai/blog/edit/master/docs/10.文章收录/99.手写代码.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/13, 22:19:29</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/ca909e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">执行结果</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/ca909e/" class="prev">执行结果</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/c852b9/"><div>
            用slidev写PPT
            <!----></div></a> <span class="date">04-10</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/deb61a/"><div>
            04.用reveal-md写PPT
            <!----></div></a> <span class="date">04-09</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/9ee271/"><div>
            mac使用技巧
            <!----></div></a> <span class="date">03-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/xiumubai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/430664288573789" title="掘金" target="_blank" class="iconfont icon-juejin"></a><a href="https://www.yuque.com/xiumubai" title="语雀" target="_blank" class="iconfont icon-yuque"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>朽木学社版权所有 | <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">京ICP备2022002793号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.fb1f9387.js" defer></script><script src="/assets/js/2.3389238a.js" defer></script><script src="/assets/js/246.d45378ad.js" defer></script>
  </body>
</html>
